<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RateRadar Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .price-example {
            background: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            cursor: pointer;
        }
        .price-example:hover {
            background: #e0e0e0;
        }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .status {
            background: #f3e5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>üß™ RateRadar Extension Test Page</h1>
    
    <div class="instructions">
        <h3>üìã How to Test Smart Shopping:</h3>
        <ol>
            <li>Make sure the RateRadar extension is installed and enabled</li>
            <li>Go to the extension settings and ensure "Smart Shopping" is enabled</li>
            <li>Highlight any price below with your mouse</li>
            <li>You should see a conversion overlay appear</li>
            <li>Check the browser console for debugging information</li>
        </ol>
    </div>

    <div class="status">
        <h3>üîç Extension Status Check:</h3>
        <div id="extensionStatus">Checking extension status...</div>
        <button onclick="checkExtensionStatus()">Refresh Status</button>
    </div>

    <div class="test-section">
        <h2>üí∞ Currency Price Examples</h2>
        <p>Highlight these prices to test smart shopping conversion:</p>
        
        <div class="price-example">$29.99</div>
        <div class="price-example">‚Ç¨45.50</div>
        <div class="price-example">¬£19.99</div>
        <div class="price-example">¬•1500</div>
        <div class="price-example">‚Ç¶50000</div>
        <div class="price-example">‚Çπ2500</div>
        <div class="price-example">R 299.99</div>
        <div class="price-example">$1,299.99</div>
        <div class="price-example">USD 99.99</div>
        <div class="price-example">EUR 79.99</div>
        <div class="price-example">GBP 59.99</div>
        <div class="price-example">NGN 150000</div>
    </div>

    <div class="test-section">
        <h2>üõí Shopping Examples</h2>
        <p>These simulate real shopping scenarios:</p>
        
        <div class="price-example">
            <strong>Premium Headphones</strong><br>
            Price: $199.99
        </div>
        
        <div class="price-example">
            <strong>Wireless Mouse</strong><br>
            Price: ‚Ç¨29.99
        </div>
        
        <div class="price-example">
            <strong>Laptop Stand</strong><br>
            Price: ¬£39.99
        </div>
        
        <div class="price-example">
            <strong>Phone Case</strong><br>
            Price: ‚Ç¶15000
        </div>
    </div>

    <div class="test-section">
        <h2>üîß Debug Information</h2>
        <p>Open browser console (F12) to see debug messages from the extension.</p>
        <p>You should see messages like:</p>
        <ul>
            <li>"RateRadar: Initializing content script..."</li>
            <li>"RateRadar: Settings loaded - Smart shopping enabled: true"</li>
            <li>"RateRadar: Price detected: $29.99"</li>
        </ul>
    </div>

    <script>
        function checkExtensionStatus() {
            const statusDiv = document.getElementById('extensionStatus');
            
            // Check if extension is installed
            if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.sendMessage) {
                chrome.runtime.sendMessage({ action: 'ping' }, (response) => {
                    if (chrome.runtime.lastError) {
                        statusDiv.innerHTML = `
                            <strong>‚ùå Extension Status:</strong> Not responding<br>
                            <small>Error: ${chrome.runtime.lastError.message}</small>
                        `;
                    } else {
                        statusDiv.innerHTML = `
                            <strong>‚úÖ Extension Status:</strong> Connected and working<br>
                            <small>Response: ${JSON.stringify(response)}</small>
                        `;
                    }
                });
            } else {
                statusDiv.innerHTML = `
                    <strong>‚ùå Extension Status:</strong> Not detected<br>
                    <small>Make sure the RateRadar extension is installed</small>
                `;
            }
        }

        // Check status on page load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(checkExtensionStatus, 1000);
        });

        // Add click handlers to price examples for easier testing
        document.querySelectorAll('.price-example').forEach(example => {
            example.addEventListener('click', () => {
                const text = example.textContent;
                const priceMatch = text.match(/\$[\d,]+\.?\d*|‚Ç¨[\d,]+\.?\d*|¬£[\d,]+\.?\d*|¬•[\d,]+\.?\d*|‚Ç¶[\d,]+\.?\d*|‚Çπ[\d,]+\.?\d*|R\s*[\d,]+\.?\d*|USD\s*[\d,]+\.?\d*|EUR\s*[\d,]+\.?\d*|GBP\s*[\d,]+\.?\d*|NGN\s*[\d,]+\.?\d*/);
                if (priceMatch) {
                    console.log('Test: Highlighting price:', priceMatch[0]);
                    // Simulate text selection
                    const selection = window.getSelection();
                    const range = document.createRange();
                    range.selectNodeContents(example);
                    selection.removeAllRanges();
                    selection.addRange(range);
                }
            });
        });
    </script>
</body>
</html> 